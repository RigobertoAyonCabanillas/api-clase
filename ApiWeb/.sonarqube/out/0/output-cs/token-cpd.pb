˜(
;C:\Users\PC\Desktop\API\apiweb\Services\MandrilDataStore.cs
	namespace 	
ApiWeb
 
. 
Services 
; 
public 
class 
MandrilDataStore 
{ 
public 

List 
< 
Mandril 
> 
	Mandriles "
{# $
get% (
;( )
set* -
;- .
}/ 0
public

 

static

 
MandrilDataStore

 "
Current

# *
{

+ ,
get

- 0
;

0 1
}

2 3
=

4 5
new

6 9
MandrilDataStore

: J
(

J K
)

K L
;

L M
public 

MandrilDataStore 
( 
) 
{ 
	Mandriles 
= 
new 
List 
< 
Mandril $
>$ %
(% &
)& '
{( )
new 
Mandril 
( 
) 
{ 
Id 
= 
$num 
, 
Nombre 
= 
$str '
,' (
Apellido 
= 
$str &
,& '
Habilidades 
= 
new !
List" &
<& '
	Habilidad' 0
>0 1
(1 2
)2 3
{4 5
new 
	Habilidad !
(! "
)" #
{$ %
Id 
= 
$num 
, 
Nombre 
=  
$str! )
,) *
Potencia  
=! "
	Habilidad# ,
., -
	EPotencia- 6
.6 7
Moderado7 ?
} 
} 
} 
, 
new 
Mandril 
( 
) 
{ 
Id 
= 
$num 
, 
Nombre 
= 
$str '
,' (
Apellido   
=   
$str   &
,  & '
Habilidades!! 
=!! 
new!! !
List!!" &
<!!& '
	Habilidad!!' 0
>!!0 1
(!!1 2
)!!2 3
{!!4 5
new"" 
	Habilidad"" !
(""! "
)""" #
{""$ %
Id## 
=## 
$num## 
,## 
Nombre$$ 
=$$  
$str$$! )
,$$) *
Potencia%%  
=%%! "
	Habilidad%%# ,
.%%, -
	EPotencia%%- 6
.%%6 7
Moderado%%7 ?
}&& 
,&& 
new'' 
	Habilidad'' !
(''! "
)''" #
{''$ %
Id(( 
=(( 
$num(( 
,(( 
Nombre)) 
=))  
$str))! *
,))* +
Potencia**  
=**! "
	Habilidad**# ,
.**, -
	EPotencia**- 6
.**6 7
Intenso**7 >
}++ 
,++ 
new,, 
	Habilidad,, !
(,,! "
),," #
{,,$ %
Id-- 
=-- 
$num-- 
,-- 
Nombre.. 
=..  
$str..! )
,..) *
Potencia//  
=//! "
	Habilidad//# ,
.//, -
	EPotencia//- 6
.//6 7
	RePotente//7 @
}00 
}11 
}22 
,22 
new44 
Mandril44 
(44 
)44 
{44 
Id55 
=55 
$num55 
,55 
Nombre66 
=66 
$str66 &
,66& '
Apellido77 
=77 
$str77 $
,77$ %
Habilidades88 
=88 
new88 !
List88" &
<88& '
	Habilidad88' 0
>880 1
(881 2
)882 3
{884 5
new99 
	Habilidad99 !
(99! "
)99" #
{99$ %
Id:: 
=:: 
$num:: 
,:: 
Nombre;; 
=;;  
$str;;! (
,;;( )
Potencia<<  
=<<! "
	Habilidad<<# ,
.<<, -
	EPotencia<<- 6
.<<6 7
Intenso<<7 >
}== 
,== 
new>> 
	Habilidad>> !
(>>! "
)>>" #
{>>$ %
Id?? 
=?? 
$num?? 
,?? 
Nombre@@ 
=@@  
$str@@! )
,@@) *
PotenciaAA  
=AA! "
	HabilidadAA# ,
.AA, -
	EPotenciaAA- 6
.AA6 7
ExtremoAA7 >
}BB 
,BB 
newCC 
	HabilidadCC !
(CC! "
)CC" #
{CC$ %
IdDD 
=DD 
$numDD 
,DD 
NombreEE 
=EE  
$strEE! *
,EE* +
PotenciaFF  
=FF! "
	HabilidadFF# ,
.FF, -
	EPotenciaFF- 6
.FF6 7
	RePotenteFF7 @
}GG 
}HH 
}II 
}JJ 	
;JJ	 

}KK 
}LL ð
)C:\Users\PC\Desktop\API\apiweb\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
builder 
. 
Services 
. #
AddEndpointsApiExplorer (
(( )
)) *
;* +
builder 
. 
Services 
. 
AddSwaggerGen 
( 
)  
;  !
builder 
. 
Services 
. 
AddControllers 
(  
)  !
;! "
var		 
app		 
=		 	
builder		
 
.		 
Build		 
(		 
)		 
;		 
if 
( 
app 
. 
Environment 
. 
IsDevelopment !
(! "
)" #
)# $
{ 
app 
. 

UseSwagger 
( 
) 
; 
app 
. 
UseSwaggerUI 
( 
) 
; 
} 
app 
. 
UseHttpsRedirection 
( 
) 
; 
app 
. 
MapControllers 
( 
) 
; 
app 
. 
Run 
( 
) 	
;	 
ý
6C:\Users\PC\Desktop\API\apiweb\Models\MandrilInsert.cs
	namespace 	
ApiWeb
 
. 
Models 
; 
public 
class 
MandrilInsert 
{ 
[ 
Required 
] 
[		 
	MaxLength		 
(		 
$num		 
)		 
]		 
public

 

string

 
Nombre

 
{

 
get

 
;

 
set

  #
;

# $
}

% &
=

' (
string

) /
.

/ 0
Empty

0 5
;

5 6
[ 
Required 
] 
[ 
	MaxLength 
( 
$num 
) 
] 
public 

string 
Apellido 
{ 
get  
;  !
set" %
;% &
}' (
=) *
string+ 1
.1 2
Empty2 7
;7 8
} Ç	
0C:\Users\PC\Desktop\API\apiweb\Models\Mandril.cs
	namespace 	
ApiWeb
 
. 
Models 
; 
public 
class 
Mandril 
{ 
public 

int 
Id 
{ 
get 
; 
set 
; 
} 
public		 

string		 
Nombre		 
{		 
get		 
;		 
set		  #
;		# $
}		% &
=		' (
string		) /
.		/ 0
Empty		0 5
;		5 6
public

 

string

 
Apellido

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
=

) *
string

+ 1
.

1 2
Empty

2 7
;

7 8
public 

List 
< 
	Habilidad 
> 
? 
Habilidades '
{) *
get+ .
;. /
set0 3
;3 4
}5 6
=7 8
new9 <
List= A
<A B
	HabilidadB K
>K L
(L M
)M N
;N O
} þ
8C:\Users\PC\Desktop\API\apiweb\Models\HabilidadInsert.cs
	namespace 	
ApiWeb
 
. 
Models 
; 
public 
class 
HabilidadInsert 
{ 
public 

string 
Nombre 
{ 
get 
; 
set  #
;# $
}% &
=' (
string) /
./ 0
Empty0 5
;5 6
public

 

	EPotencia

 
Potencia

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
} †
2C:\Users\PC\Desktop\API\apiweb\Models\Habilidad.cs
	namespace 	
ApiWeb
 
. 
Models 
; 
public 
class 
	Habilidad 
{ 
public 

int 
Id 
{ 
get 
; 
set 
; 
} 
public		 

string		 
Nombre		 
{		 
get		 
;		 
set		  #
;		# $
}		% &
=		' (
string		) /
.		/ 0
Empty		0 5
;		5 6
public 

	EPotencia 
Potencia 
{ 
get  #
;# $
set% (
;( )
}* +
public 

enum 
	EPotencia 
{ 
Suave 
, 
Moderado 
, 
Intenso 
, 
	RePotente 
, 
Extremo 
} 
} á
2C:\Users\PC\Desktop\API\apiweb\Helpers\Mensajes.cs
	namespace 	
ApiWeb
 
. 
Helpers 
; 
public 
static 
class 
Mensajes 
{ 
public 

static 
class 
Mandril 
{ 
public		 
const		 
string		 
NotFound		 $
=		% &
$str		' H
;		H I
}

 
public 

static 
class 
	Habilidad !
{ 
public 
const 
string 
NotFound $
=% &
$str' ?
;? @
public 
const 
string 
NombreExistente +
=, -
$str. V
;V W
} 
} ¨X
AC:\Users\PC\Desktop\API\apiweb\Controllers\HabilidadController.cs
	namespace 	
ApiWeb
 
. 
Controllers 
; 
[		 
ApiController		 
]		 
[

 
Route

 
(

 
$str

 -
)

- .
]

. /
public 
class 
HabilidadController  
:! "
ControllerBase# 1
{ 
[ 
HttpGet 
] 
public 

ActionResult 
< 
IEnumerable #
<# $
	Habilidad$ -
>- .
>. /
GetHabilidades0 >
(> ?
int? B
	mandrilIdC L
)L M
{ 
var 
mandril 
= 
MandrilDataStore &
.& '
Current' .
.. /
	Mandriles/ 8
.8 9
FirstOrDefault9 G
(G H
xH I
=>J L
xM N
.N O
IdO Q
==R T
	mandrilIdU ^
)^ _
;_ `
if 

(
 
mandril 
== 
null 
) 
return 
NotFound 
( 
Mensajes $
.$ %
Mandril% ,
., -
NotFound- 5
)5 6
;6 7
return 
Ok 
( 
mandril 
. 
Habilidades %
)% &
;& '
} 
[ 
HttpGet 
( 
$str 
) 
] 
public 

ActionResult 
< 
	Habilidad !
>! "
GetHabilidad# /
(/ 0
int0 3
	mandrilId4 =
,= >
int? B
habilidadIdC N
)N O
{ 
var 
mandril 
= 
MandrilDataStore &
.& '
Current' .
.. /
	Mandriles/ 8
.8 9
FirstOrDefault9 G
(G H
xH I
=>J L
xM N
.N O
IdO Q
==R T
	mandrilIdU ^
)^ _
;_ `
if 

(
 
mandril 
== 
null 
) 
return   
NotFound   
(   
Mensajes   $
.  $ %
Mandril  % ,
.  , -
NotFound  - 5
)  5 6
;  6 7
var"" 
	habilidad"" 
="" 
mandril"" 
.""  
Habilidades""  +
?""+ ,
."", -
FirstOrDefault""- ;
(""; <
h""< =
=>""> @
h""A B
.""B C
Id""C E
==""F H
habilidadId""I T
)""T U
;""U V
if$$ 

($$
 
	habilidad$$ 
==$$ 
null$$ 
)$$ 
return&& 
NotFound&& 
(&& 
Mensajes&& $
.&&$ %
	Habilidad&&% .
.&&. /
NotFound&&/ 7
)&&7 8
;&&8 9
return(( 
Ok(( 
((( 
	habilidad(( 
)(( 
;(( 
})) 
[++ 
HttpPost++ 
]++ 
public,, 

ActionResult,, 
<,, 
	Habilidad,, !
>,,! "
PostHabilidad,,# 0
(,,0 1
int,,1 4
	mandrilId,,5 >
,,,> ?
HabilidadInsert,,@ O
habilidadInsert,,P _
),,_ `
{-- 
var.. 
mandril.. 
=.. 
MandrilDataStore.. &
...& '
Current..' .
.... /
	Mandriles../ 8
...8 9
FirstOrDefault..9 G
(..G H
x..H I
=>..J L
x..M N
...N O
Id..O Q
==..R T
	mandrilId..U ^
)..^ _
;.._ `
if00 

(00
 
mandril00 
==00 
null00 
)00 
return22 
NotFound22 
(22 
Mensajes22 $
.22$ %
Mandril22% ,
.22, -
NotFound22- 5
)225 6
;226 7
var44 
habilidadExistente44 
=44  
mandril44! (
.44( )
Habilidades44) 4
?444 5
.445 6
FirstOrDefault446 D
(44D E
h44E F
=>44G I
h44J K
.44K L
Nombre44L R
==44S U
habilidadInsert44V e
.44e f
Nombre44f l
)44l m
;44m n
if66 

(66 
habilidadExistente66 
!=66 !
null66" &
)66& '
return77 

BadRequest77 
(77 
Mensajes77 &
.77& '
	Habilidad77' 0
.770 1
NombreExistente771 @
)77@ A
;77A B
var99 
maxHabilidad99 
=99 
mandril99 "
.99" #
Habilidades99# .
.99. /
Max99/ 2
(992 3
h993 4
=>995 7
h998 9
.999 :
Id99: <
)99< =
;99= >
var;; 
habilidadNueva;; 
=;; 
new;;  
	Habilidad;;! *
(;;* +
);;+ ,
{<< 	
Id== 
=== 
maxHabilidad== 
+== 
$num==  !
,==! "
Nombre>> 
=>> 
habilidadInsert>> $
.>>$ %
Nombre>>% +
,>>+ ,
Potencia?? 
=?? 
habilidadInsert?? &
.??& '
Potencia??' /
}@@ 	
;@@	 

mandrilBB 
.BB 
HabilidadesBB 
.BB 
AddBB 
(BB  
habilidadNuevaBB  .
)BB. /
;BB/ 0
returnDD 
CreatedAtActionDD 
(DD 
nameofDD %
(DD% &
GetHabilidadDD& 2
)DD2 3
,DD3 4
newEE 
{EE 
mandrildEE 
=EE 
	mandrilIdEE %
,EE% &
	habilidadEE' 0
=EE1 2
habilidadNuevaEE3 A
.EEA B
IdEEB D
}EED E
,EEE F
habilidadNuevaFF 
)GG 	
;GG	 

}HH 
[JJ 
HttpPutJJ 
(JJ 
$strJJ 
)JJ 
]JJ 
publicKK 

ActionResultKK 
<KK 
	HabilidadKK !
>KK! "
PutHabilidadKK# /
(KK/ 0
intKK0 3
	mandrilIdKK5 >
,KK> ?
intKK@ C
habilidadIdKKD O
,KKO P
HabilidadInsertKKQ `
habilidadInsertKKa p
)KKp q
{LL 
varMM 
mandrilMM 
=MM 
MandrilDataStoreMM &
.MM& '
CurrentMM' .
.MM. /
	MandrilesMM/ 8
.MM8 9
FirstOrDefaultMM9 G
(MMG H
xMMH I
=>MMJ L
xMMM N
.MMN O
IdMMO Q
==MMR T
	mandrilIdMMU ^
)MM^ _
;MM_ `
ifOO 

(OO
 
mandrilOO 
==OO 
nullOO 
)OO 
returnPP 
NotFoundPP 
(PP 
MensajesPP $
.PP$ %
MandrilPP% ,
.PP, -
NotFoundPP- 5
)PP5 6
;PP6 7
varRR 
habilidadExistenteRR 
=RR  
mandrilRR! (
.RR( )
HabilidadesRR) 4
?RR4 5
.RR5 6
FirstOrDefaultRR6 D
(RRD E
hRRE F
=>RRG I
hRRJ K
.RRK L
IdRRL N
==RRO Q
habilidadIdRRR ]
)RR] ^
;RR^ _
ifTT 

(TT 
habilidadExistenteTT 
==TT !
nullTT" &
)TT& '
returnUU 

BadRequestUU 
(UU 
MensajesUU &
.UU& '
	HabilidadUU' 0
.UU0 1
NotFoundUU1 9
)UU9 :
;UU: ;
varWW  
habilidadMismoNombreWW  
=WW! "
mandrilWW# *
.WW* +
HabilidadesWW+ 6
?WW6 7
.XX 
FirstOrDefaultXX 
(XX 
hXX 
=>XX  
hXX! "
.XX" #
IdXX# %
!=XX& (
habilidadIdXX) 4
&&XX5 7
hXX8 9
.XX9 :
NombreXX: @
==XXA C
habilidadInsertXXD S
.XXS T
NombreXXT Z
)XXZ [
;XX[ \
ifZZ 

(ZZ
  
habilidadMismoNombreZZ 
!=ZZ  "
nullZZ# '
)ZZ' (
return[[ 

BadRequest[[ 
([[ 
Mensajes[[ &
.[[& '
	Habilidad[[' 0
.[[0 1
NombreExistente[[1 @
)[[@ A
;[[A B
habilidadExistente^^ 
.^^ 
Nombre^^ !
=^^" #
habilidadInsert^^$ 3
.^^3 4
Nombre^^4 :
;^^: ;
habilidadExistente__ 
.__ 
Potencia__ #
=__$ %
habilidadInsert__& 5
.__5 6
Potencia__6 >
;__> ?
returnaa 
	NoContentaa 
(aa 
)aa 
;aa 
}bb 
[dd 

HttpDeletedd 
(dd 
$strdd 
)dd  
]dd  !
publicff 

ActionResultff 
<ff 
	Habilidadff !
>ff! "
DeleteHabilidadff# 2
(ff2 3
intff3 6
	mandrilIdff7 @
,ff@ A
intffB E
habilidadIdffF Q
)ffQ R
{gg 
varhh 
mandrilhh 
=hh 
MandrilDataStorehh &
.hh& '
Currenthh' .
.hh. /
	Mandrileshh/ 8
.hh8 9
FirstOrDefaulthh9 G
(hhG H
xhhH I
=>hhJ L
xhhM N
.hhN O
IdhhO Q
==hhR T
	mandrilIdhhU ^
)hh^ _
;hh_ `
ifjj 

(jj
 
mandriljj 
==jj 
nulljj 
)jj 
returnkk 
NotFoundkk 
(kk 
Mensajeskk $
.kk$ %
Mandrilkk% ,
.kk, -
NotFoundkk- 5
)kk5 6
;kk6 7
varmm 
habilidadExistentemm 
=mm  
mandrilmm! (
.mm( )
Habilidadesmm) 4
?mm4 5
.mm5 6
FirstOrDefaultmm6 D
(mmD E
hmmE F
=>mmG I
hmmJ K
.mmK L
IdmmL N
==mmO Q
habilidadIdmmR ]
)mm] ^
;mm^ _
ifoo 

(oo 
habilidadExistenteoo 
==oo !
nulloo" &
)oo& '
returnpp 

BadRequestpp 
(pp 
Mensajespp &
.pp& '
	Habilidadpp' 0
.pp0 1
NotFoundpp1 9
)pp9 :
;pp: ;
mandrilrr 
.rr 
Habilidadesrr 
?rr 
.rr 
Removerr #
(rr# $
habilidadExistenterr$ 6
)rr6 7
;rr7 8
returntt 
	NoContenttt 
(tt 
)tt 
;tt 
}uu 
}vv Ç2
?C:\Users\PC\Desktop\API\apiweb\Controllers\MandrilController.cs
	namespace 	
ApiWeb
 
. 
Controllers 
; 
[

 
ApiController

 
]

 
[ 
Route 
( 
$str 
) 
] 
public 
class 
MandrilController 
:  
ControllerBase! /
{ 
[ 
HttpGet 
] 
public 

ActionResult 
< 
IEnumerable #
<# $
Mandril$ +
>+ ,
>, -
GetMandriles. :
(: ;
); <
{ 
return 
Ok 
( 
MandrilDataStore "
." #
Current# *
.* +
	Mandriles+ 4
)4 5
;5 6
} 
[ 
HttpGet 
( 
$str 
) 
] 
public 

ActionResult 
< 
Mandril 
>  

GetMandril! +
(+ ,
int, /
	mandrilId0 9
)9 :
{ 
var 
mandril 
= 
MandrilDataStore &
.& '
Current' .
.. /
	Mandriles/ 8
.8 9
FirstOrDefault9 G
(G H
xH I
=>J L
xM N
.N O
IdO Q
==R T
	mandrilIdU ^
)^ _
;_ `
if 

(
 
mandril 
== 
null 
) 
{ 	
return 
NotFound 
( 
Mensajes $
.$ %
Mandril% ,
., -
NotFound- 5
)5 6
;6 7
} 	
return 
Ok 
( 
mandril 
) 
; 
}   
["" 
HttpPost"" 
]"" 
public## 

ActionResult## 
<## 
Mandril## 
>##  
PostMandril##! ,
(##, -
MandrilInsert##- :
mandrilInsert##; H
)##H I
{$$ 
var%% 
maxMandrilId%% 
=%% 
MandrilDataStore%% +
.%%+ ,
Current%%, 3
.%%3 4
	Mandriles%%4 =
.%%= >
Max%%> A
(%%A B
x%%B C
=>%%D F
x%%G H
.%%H I
Id%%I K
)%%K L
;%%L M
var'' 
mandrilNuevo'' 
='' 
new'' 
Mandril'' &
(''& '
)''' (
{(( 	
Id)) 
=)) 
maxMandrilId)) 
+)) 
$num))  !
,))! "
Nombre** 
=** 
mandrilInsert** "
.**" #
Nombre**# )
,**) *
Apellido++ 
=++ 
mandrilInsert++ $
.++$ %
Apellido++% -
}-- 	
;--	 

MandrilDataStore// 
.// 
Current//  
.//  !
	Mandriles//! *
.//* +
Add//+ .
(//. /
mandrilNuevo/// ;
)//; <
;//< =
return11 
CreatedAtAction11 
(11 
nameof11 %
(11% &

GetMandril11& 0
)110 1
,111 2
new22 
{22 
mandril22 
=22 
mandrilNuevo22 (
.22( )
Id22) +
}22+ ,
,22, -
mandrilNuevo33 
)44 	
;44	 

}55 
[77 
HttpPut77 
(77 
$str77 
)77 
]77 
public88 

ActionResult88 
<88 
Mandril88 
>88  

PutMandril88! +
(88+ ,
[88, -
	FromRoute88- 6
]886 7
int887 :
	mandrilId88; D
,88D E
[88F G
FromBody88G O
]88O P
MandrilInsert88P ]
mandrilInsert88^ k
)88k l
{99 
var:: 
mandril:: 
=:: 
MandrilDataStore:: &
.::& '
Current::' .
.::. /
	Mandriles::/ 8
.::8 9
FirstOrDefault::9 G
(::G H
x::H I
=>::J L
x::M N
.::N O
Id::O Q
==::R T
	mandrilId::U ^
)::^ _
;::_ `
if<< 

(<<
 
mandril<< 
==<< 
null<< 
)<< 
return== 
NotFound== 
(== 
Mensajes== $
.==$ %
Mandril==% ,
.==, -
NotFound==- 5
)==5 6
;==6 7
mandril?? 
.?? 
Nombre?? 
=?? 
mandrilInsert?? &
.??& '
Nombre??' -
;??- .
mandril@@ 
.@@ 
Apellido@@ 
=@@ 
mandrilInsert@@ (
.@@( )
Apellido@@) 1
;@@1 2
returnBB 
	NoContentBB 
(BB 
)BB 
;BB 
}CC 
[EE 

HttpDeleteEE 
(EE 
$strEE 
)EE 
]EE 
publicFF 

ActionResultFF 
<FF 
MandrilFF 
>FF  
DeleteMandrilFF! .
(FF. /
intFF/ 2
	mandrilIdFF3 <
)FF< =
{GG 
varHH 
mandrilHH 
=HH 
MandrilDataStoreHH &
.HH& '
CurrentHH' .
.HH. /
	MandrilesHH/ 8
.HH8 9
FirstOrDefaultHH9 G
(HHG H
xHHH I
=>HHJ L
xHHM N
.HHN O
IdHHO Q
==HHR T
	mandrilIdHHU ^
)HH^ _
;HH_ `
ifJJ 

(JJ
 
mandrilJJ 
==JJ 
nullJJ 
)JJ 
returnKK 
NotFoundKK 
(KK 
MensajesKK $
.KK$ %
MandrilKK% ,
.KK, -
NotFoundKK- 5
)KK5 6
;KK6 7
MandrilDataStoreMM 
.MM 
CurrentMM  
.MM  !
	MandrilesMM! *
.MM* +
RemoveMM+ 1
(MM1 2
mandrilMM2 9
)MM9 :
;MM: ;
returnOO 
	NoContentOO 
(OO 
)OO 
;OO 
}PP 
}RR 